#:set background_color [0.121, 0.117, 0.121, 1.0]
#:set line_color [0.227, 0.223, 0.227, 1.0]
#:set label_secundary_color [1, 1, 1, 0.6]


<IntInput@TextInput>:
    input_filter: 'int'
    multiline: False
    background_color: [0, 0, 0, 0.5]
    foreground_color: [1, 1, 1, 1]

<CustomProperty>
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(30)

    Label:
        text: root.name
        font_size: '15sp'
        halign: 'left'
        valign: 'middle'
        text_size: self.size

<CustomIntProperty>:
    BoxLayout:
        orientation: 'horizontal'

        Slider:
            id: int_slider
            min: root.min_value
            max: root.max_value
            value: root.min_value
            size_hint_x: 0.7
            on_value: root.set_property_value(self.value)
        
        IntInput:
            id: int_textinput
            size_hint_x: 0.3
            on_text: root.set_property_value(self.text)

<CustomStrProperty>:
    TextInput:
        id: str_textinput
        text: ""
        multiline: False
        background_color: [0, 0, 0, 0.5]
        foreground_color: [1, 1, 1, 1]
        on_text: root.set_property_value(self.text)

<CustomBoolProperty>:
    BoxLayout:
        orientation: 'horizontal'

        Widget:

        Switch:
            id: bool_switch
            active: True
            size_hint_x: None
            width: dp(82)
            on_active: root.set_property_value(self.active)

<CustomListProperty>:
    Spinner:
        id: list_spinner
        text: ""
        values: root.values
        on_text: root.set_property_value(self.text)

<CustomFileProperty>:
    Button:
        id: file_button
        text: ""
        on_press: root.open_file_dialog()

<MainLayout>:
    orientation: 'vertical'
    padding: dp(10)
    spacing: dp(10)

    canvas.before:
        Color:
            rgba: background_color
        Rectangle:
            size: self.size
            pos: self.pos
    
    Label:
        text: root.title
        font_size: '17sp'
        size_hint_y: None
        height: dp(40)

        canvas.before:
            Color:
                rgba: line_color
            Line:
                rounded_rectangle: [self.x, self.y, self.width, self.height, dp(10), dp(10)]
                width: dp(1)

    BoxLayout:
        id: properties_layout_container
        orientation: 'vertical'
        spacing: dp(10)
        size_hint_y: None
        height: self.minimum_height
        
        Label:
            text: 'Properties' + ' ' * 2
            font_size: '16sp'
            size_hint_y: None
            height: dp(15)
            color: label_secundary_color
            halign: 'right'
            text_size: self.size

        BoxLayout:
            id: properties_layout
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(10)
            size_hint_y: None
            size: self.minimum_size

            canvas.before:
                Color:
                    rgba: line_color
                Line:
                    rounded_rectangle: [self.x, self.y, self.width, self.height, dp(10), dp(10)]
                    width: dp(1)

    BoxLayout:
        orientation: 'vertical'
        spacing: dp(10)
        
        Label:
            text: 'Result' + ' ' * 2
            font_size: '16sp'
            size_hint_y: None
            height: dp(15)
            color: label_secundary_color
            halign: 'right'
            text_size: self.size
        
        BoxLayout:
            orientation: 'vertical'
            id: result_layout

            canvas.before:
                Color:
                    rgba: line_color
                Line:
                    rounded_rectangle: [self.x, self.y, self.width, self.height, dp(10), dp(10)]
                    width: dp(1)